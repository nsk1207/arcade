</script>
 </html>




 <form action="javascript:login_user()">
     <p><label>
         User ID:
         <input type="text" name="uid" id="uid" required>
         <p><label>
          Name:
          <input type="name" name="name" id="name" required>
     </label></p>
     <p><label>

         Snake score:
         <input type="snakescore" name="snake score" id="snakescore" required>
     </label></p>
     <p><button>Log</button></p>
     <p id="message"></p>
 </form>

 <script>
     // URL for deployment
    
     var url = "https://nashcsp.duckdns.org" 
     // Comment out next line for local testing
    
     //url = "http://localhost:4444"
     // Authenticate endpoint
     const login_url = url + '/api/snakes/authenticate';


     function login_user(){
        // Set body to include login data
        const body = {
            name:document.getElementbyId("name").value
            uid: document.getElementById("uid").value,
            snakescore: document.getElementById("snake score").value,
        };
        // Set Headers to support cross origin
        const requestOptions = {
            method: 'POST',
            mode: 'cors', // no-cors, *cors, same-origin
            cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached
            // credentials: 'include', // include, *same-origin, omit
            body: JSON.stringify(body),
            headers: {
                "content-type": "application/json",
            },
        };
        // Fetch JWT
        fetch(login_url, requestOptions)
        .then(response => {
            // trap error response from Web API
            if (response.status !== 200) {
                const message = 'Login error: ' + response.status + " " + response.statusText;
                document.getElementById("message").innerHTML = message;
                
                return;
            }
            // Valid response will contain json data
            response.json().then(data => {
                const message = 'Login success: ' + data.name;
                document.getElementById("message").innerHTML = message;
                
            })
        })
    }
</script>